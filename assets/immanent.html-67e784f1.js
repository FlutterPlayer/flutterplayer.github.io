import{_ as n,W as s,X as a,a1 as t}from"./framework-07d536f1.js";const p="/assets/images/default-ui.jpg",e="/assets/images/video-ui-vertical.jpg",c="/assets/images/video-ui-horizontal.jpg",o="/assets/images/videos-ui-vertical.jpg",i="/assets/images/videos-ui-horizontal.jpg",l="/assets/images/videos-ui-all.jpg",u={},k=t(`<p>fplayer除了默认皮肤外，还提供了高级皮肤，本节是对默认皮肤和高级皮肤的介绍。</p><h2 id="默认皮肤" tabindex="-1"><a class="header-anchor" href="#默认皮肤" aria-hidden="true">#</a> 默认皮肤</h2><p>默认UI主要实现了一个播放器最基础的能力。</p><p>用法如下:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">FView</span><span class="token punctuation">(</span>
  player<span class="token punctuation">:</span> player<span class="token punctuation">,</span>
  panelBuilder<span class="token punctuation">:</span> defaultFPanelBuilder<span class="token punctuation">,</span> <span class="token comment">// 可省略</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行截图:</p><img src="`+p+`" style="max-height:300px;"><h2 id="高级皮肤" tabindex="-1"><a class="header-anchor" href="#高级皮肤" aria-hidden="true">#</a> 高级皮肤</h2><p>高级皮肤是对默认UI的扩展，提供了一个更高级的panel builder函数，主要分为四个部分（单视频模式、多视频模式、基础功能与进阶功能介绍以及API）。</p><h3 id="单视频模式配置" tabindex="-1"><a class="header-anchor" href="#单视频模式配置" aria-hidden="true">#</a> 单视频模式配置</h3><p>只需要播放一个视频时的配置</p><p>用法如下:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 播放传入的视频</span>
  player<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>url<span class="token punctuation">,</span> autoPlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> showCover<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  player<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">FView</span><span class="token punctuation">(</span>
  player<span class="token punctuation">:</span> player<span class="token punctuation">,</span>
  width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> videoHeight<span class="token punctuation">,</span> <span class="token comment">// 需自行设置，此处宽度/高度=16/9</span>
  color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>
  fsFit<span class="token punctuation">:</span> <span class="token class-name">FFit</span><span class="token punctuation">.</span>contain<span class="token punctuation">,</span> <span class="token comment">// 全屏模式下的填充</span>
  fit<span class="token punctuation">:</span> <span class="token class-name">FFit</span><span class="token punctuation">.</span>fill<span class="token punctuation">,</span> <span class="token comment">// 正常模式下的填充</span>
  panelBuilder<span class="token punctuation">:</span> <span class="token function">fPanelBuilder</span><span class="token punctuation">(</span>
    title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;视频标题&#39;</span></span><span class="token punctuation">,</span>
    subTitle<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;视频副标题&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行截图:</p><table><thead><tr><th>小屏模式</th><th>全屏模式</th></tr></thead><tbody><tr><td><img style="max-width:200px;" src="`+e+'" alt="单视频 小屏模式 demo 运行截图"></td><td><img style="max-height:300px;" src="'+c+`" alt="单视频 全屏模式 demo 运行截图"></td></tr></tbody></table><h3 id="多视频模式配置" tabindex="-1"><a class="header-anchor" href="#多视频模式配置" aria-hidden="true">#</a> 多视频模式配置</h3><p>需要播放视频列表时的配置（当一个视频播放完成时自动播放下一个视频等需求）</p><p>用法如下:</p><p>首先需要配置一些变量与方法</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 视频列表</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VideoItem</span><span class="token punctuation">&gt;</span></span> videoList <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token class-name">VideoItem</span><span class="token punctuation">(</span>
    title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;第一集&#39;</span></span><span class="token punctuation">,</span>
    subTitle<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;视频1副标题&#39;</span></span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;http://player.alicdn.com/video/aliyunmedia.mp4&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">VideoItem</span><span class="token punctuation">(</span>
    title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;第二集&#39;</span></span><span class="token punctuation">,</span>
    subTitle<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;视频2副标题&#39;</span></span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;https://www.runoob.com/try/demo_source/mov_bbb.mp4&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token class-name">VideoItem</span><span class="token punctuation">(</span>
    title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;第三集&#39;</span></span><span class="token punctuation">,</span>
    subTitle<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;视频3副标题&#39;</span></span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;http://player.alicdn.com/video/aliyunmedia.mp4&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 视频索引,单个视频可不传</span>
int videoIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// 播放传入的url</span>
<span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">setVideoUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> autoPlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> showCover<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;播放-异常: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">error</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 播放视频列表的第一个视频</span>
  <span class="token function">setVideoUrl</span><span class="token punctuation">(</span>videoList<span class="token punctuation">[</span>videoIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token metadata function">@override</span>
<span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  player<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后需要把这两个变量传给FView</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Column</span><span class="token punctuation">(</span>
  children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token class-name">FView</span><span class="token punctuation">(</span>
      player<span class="token punctuation">:</span> player<span class="token punctuation">,</span>
      width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span>
      height<span class="token punctuation">:</span> videoHeight<span class="token punctuation">,</span> <span class="token comment">// 需自行设置，此处宽度/高度=16/9</span>
      color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>
      fsFit<span class="token punctuation">:</span> <span class="token class-name">FFit</span><span class="token punctuation">.</span>contain<span class="token punctuation">,</span> <span class="token comment">// 全屏模式下的填充</span>
      fit<span class="token punctuation">:</span> <span class="token class-name">FFit</span><span class="token punctuation">.</span>fill<span class="token punctuation">,</span> <span class="token comment">// 正常模式下的填充</span>
      panelBuilder<span class="token punctuation">:</span> <span class="token function">fPanelBuilder</span><span class="token punctuation">(</span>
        <span class="token comment">// 视频列表开关</span>
        isVideos<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// 视频列表列表</span>
        videoList<span class="token punctuation">:</span> videoList<span class="token punctuation">,</span>
        <span class="token comment">// 当前视频索引</span>
        videoIndex<span class="token punctuation">:</span> videoIndex<span class="token punctuation">,</span>
        <span class="token comment">// 全屏模式下点击播放下一集视频回调</span>
        playNextVideoFun<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            videoIndex <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 视频播放完成回调</span>
        onVideoEnd<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> index <span class="token operator">=</span> videoIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> videoList<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              videoIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setVideoUrl</span><span class="token punctuation">(</span>videoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 自定义小屏列表</span>
    <span class="token class-name">Container</span><span class="token punctuation">(</span>
      width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span>
      height<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>
        scrollDirection<span class="token punctuation">:</span> <span class="token class-name">Axis</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span>
        padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span>
        itemCount<span class="token punctuation">:</span> videoList<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          bool isCurrent <span class="token operator">=</span> videoIndex <span class="token operator">==</span> index<span class="token punctuation">;</span>
          <span class="token class-name">Color</span> textColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span>
          <span class="token class-name">Color</span> bgColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColorDark<span class="token punctuation">;</span>
          <span class="token class-name">Color</span> borderColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>isCurrent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            textColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColorDark<span class="token punctuation">;</span>
            bgColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span>
            borderColor <span class="token operator">=</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>
            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
              <span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                videoIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">setVideoUrl</span><span class="token punctuation">(</span>videoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
              margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> index <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>
                borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                color<span class="token punctuation">:</span> bgColor<span class="token punctuation">,</span>
                border<span class="token punctuation">:</span> <span class="token class-name">Border</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
                  width<span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
                  color<span class="token punctuation">:</span> borderColor<span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
                videoList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>
                  fontSize<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                  color<span class="token punctuation">:</span> textColor<span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行截图:</p><table><thead><tr><th>小屏模式</th><th>全屏模式</th></tr></thead><tbody><tr><td><img style="max-width:200px;" src="`+o+'" alt="多视频 小屏模式 demo 运行截图"></td><td><img style="max-height:300px;" src="'+i+`" alt="多视频 全屏模式 demo 运行截图"></td></tr></tbody></table><h3 id="基础功能与进阶功能介绍" tabindex="-1"><a class="header-anchor" href="#基础功能与进阶功能介绍" aria-hidden="true">#</a> 基础功能与进阶功能介绍</h3><p>基础功能是指播放器自带的一些功能，无法修改，进阶功能可以自定义配置</p><p>用法如下:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 倍速列表</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> double<span class="token punctuation">&gt;</span></span> speedList <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-literal"><span class="token string">&quot;2.0&quot;</span></span><span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>
  <span class="token string-literal"><span class="token string">&quot;1.5&quot;</span></span><span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
  <span class="token string-literal"><span class="token string">&quot;1.0&quot;</span></span><span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
  <span class="token string-literal"><span class="token string">&quot;0.5&quot;</span></span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 清晰度列表</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ResolutionItem</span><span class="token punctuation">&gt;</span></span> resolutionList <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-literal"><span class="token string">&quot;480P&quot;</span></span><span class="token punctuation">:</span> <span class="token class-name">ResolutionItem</span><span class="token punctuation">(</span>
    value<span class="token punctuation">:</span> <span class="token number">480</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;https://www.runoob.com/try/demo_source/mov_bbb.mp4&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-literal"><span class="token string">&quot;270P&quot;</span></span><span class="token punctuation">:</span> <span class="token class-name">ResolutionItem</span><span class="token punctuation">(</span>
    value<span class="token punctuation">:</span> <span class="token number">270</span><span class="token punctuation">,</span>
    url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&#39;http://player.alicdn.com/video/aliyunmedia.mp4&#39;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 模拟播放记录视频初始化完需要跳转的进度</span>
int seekTime <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span>

<span class="token function">fPanelBuilder</span><span class="token punctuation">(</span>
  <span class="token comment">// 右下方截屏按钮</span>
  isSnapShot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 右上方按钮组开关</span>
  isRightButton<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 右上方按钮组</span>
  rightButtonList<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token class-name">InkWell</span><span class="token punctuation">(</span>
      onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>
          color<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColorLight<span class="token punctuation">,</span>
          borderRadius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">vertical</span><span class="token punctuation">(</span>
            top<span class="token punctuation">:</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>
          <span class="token class-name">Icons</span><span class="token punctuation">.</span>favorite<span class="token punctuation">,</span>
          color<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">InkWell</span><span class="token punctuation">(</span>
      onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>
          color<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColorLight<span class="token punctuation">,</span>
          borderRadius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">vertical</span><span class="token punctuation">(</span>
            bottom<span class="token punctuation">:</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>
          <span class="token class-name">Icons</span><span class="token punctuation">.</span>thumb_up<span class="token punctuation">,</span>
          color<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 自定义倍速列表</span>
  speedList<span class="token punctuation">:</span> speedList<span class="token punctuation">,</span>
  <span class="token comment">// 清晰度开关</span>
  isResolution<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 自定义清晰度列表</span>
  resolutionList<span class="token punctuation">:</span> resolutionList<span class="token punctuation">,</span>
  settingFun<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;设置按钮点击事件&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 视频播放错误点击刷新回调</span>
  onError<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setVideoUrl</span><span class="token punctuation">(</span>videoList<span class="token punctuation">[</span>videoIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onVideoTimeChange<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 视频时间变动则触发一次，可以保存视频历史</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  onVideoPrepared<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token comment">// 视频初始化完毕，如有历史记录时间段则可以触发快进</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>seekTime <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/// seekTo必须在FState.prepared</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;seekTo&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> player<span class="token punctuation">.</span><span class="token function">seekTo</span><span class="token punctuation">(</span>seekTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// print(&quot;视频快进-$seekTime&quot;);</span>
        seekTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;视频初始化完快进-异常: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">error</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行截图:</p><img src="`+l+'" style="max-height:300px;"><h3 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h3><p>属性</p><table><thead><tr><th>属性名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>title</td><td>String</td><td>单视频模式视频标题</td></tr><tr><td>subTitle</td><td>String</td><td>单视频模式视频副标题</td></tr><tr><td>isSnapShot</td><td>bool</td><td>是否显示截图按钮，默认为false</td></tr><tr><td>isRightButton</td><td>bool</td><td>是否显示全屏模式中间区域右上方按钮组，默认为false</td></tr><tr><td>rightButtonList</td><td>List</td><td>全屏模式中间区域右上方按钮组，建议不超过三个</td></tr><tr><td>isVideos</td><td>bool</td><td>是否为多视频模式，默认为false</td></tr><tr><td>videoList</td><td>List</td><td>多视频列表</td></tr><tr><td>speedList</td><td>List</td><td>倍速列表</td></tr><tr><td>isResolution</td><td>bool</td><td>是否显示清晰度按钮，默认为false</td></tr><tr><td>resolutionList</td><td>List</td><td>清晰度列表</td></tr></tbody></table><p>方法</p><table><thead><tr><th>方法名</th><th>描述</th></tr></thead><tbody><tr><td>playNextVideoFun</td><td>多视频模式全屏状态下点击播放下一集按钮事件</td></tr><tr><td>settingFun</td><td>点击右上角设置按钮事件</td></tr><tr><td>onError</td><td>视频播放错误点击刷新回调</td></tr><tr><td>onVideoEnd</td><td>视频播放完成回调</td></tr><tr><td>onVideoTimeChange</td><td>视频时间变动则触发一次，可以保存视频播放历史</td></tr><tr><td>onVideoPrepared</td><td>视频初始化完毕回调，如有历史记录时间段则可以触发快进</td></tr></tbody></table>',35),d=[k];function r(v,m){return s(),a("div",null,d)}const g=n(u,[["render",r],["__file","immanent.html.vue"]]);export{g as default};

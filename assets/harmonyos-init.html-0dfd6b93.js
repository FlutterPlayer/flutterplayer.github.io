import{_ as t,W as l,X as i,Y as a,Z as s,$ as o,a1 as e,C as r}from"./framework-07d536f1.js";const c={},d=e(`<p>因为HarmonyOS的flutter的版本比较低，所以建议使用fvm进行环境的隔离，如果需要使用对应环境的时候直接进行切换即可，本文主要是介绍怎么搭建flutter的HarmonyOS的环境</p><h1 id="说明" tabindex="-1"><a class="header-anchor" href="#说明" aria-hidden="true">#</a> 说明</h1><p>本文档仅在Mac上进行核对，如其他环境可以参考文档中的步骤进行修正</p><h2 id="环境清理" tabindex="-1"><a class="header-anchor" href="#环境清理" aria-hidden="true">#</a> 环境清理</h2><p>先将环境中的fluter清理掉，如果使用的是brew安装可以参考下面命令进行清理</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew remove flutter
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="安装fvm" tabindex="-1"><a class="header-anchor" href="#安装fvm" aria-hidden="true">#</a> 安装fvm</h2>`,7),p={href:"https://fvm.app",target:"_blank",rel:"noopener noreferrer"},u=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew tap leoafarias/fvm
brew <span class="token function">install</span> fvm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成后可以使用以下命令查看有多少版本可以使用</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fvm releases
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="安装flutter" tabindex="-1"><a class="header-anchor" href="#安装flutter" aria-hidden="true">#</a> 安装flutter</h2><p>因为本人习惯使用最新的flutter的环境所以直接安装了最新的flutter，可以参考以下命令进行安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fvm <span class="token function">install</span> <span class="token number">3.24</span>.5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装完成之后使用以下命令进行初始化</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fvm global <span class="token number">3.24</span>.5
fvm flutter doctor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>命令完成后可以看到相关的flutter信息</p><h2 id="安装flutter-ohos" tabindex="-1"><a class="header-anchor" href="#安装flutter-ohos" aria-hidden="true">#</a> 安装flutter_ohos</h2><p>首先进入fvm的版本目录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/fvm/versions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>配置DevTool的环境</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">TOOL_HOME</span><span class="token operator">=</span>/Applications/DevEco-Studio.app/Contents <span class="token comment"># mac环境</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DEVECO_SDK_HOME</span><span class="token operator">=</span><span class="token variable">$TOOL_HOME</span>/sdk <span class="token comment"># command-line-tools/sdk</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$TOOL_HOME</span>/tools/ohpm/bin:<span class="token environment constant">$PATH</span> <span class="token comment"># command-line-tools/ohpm/bin</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$TOOL_HOME</span>/tools/hvigor/bin:<span class="token environment constant">$PATH</span> <span class="token comment"># command-line-tools/hvigor/bin</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$TOOL_HOME</span>/tools/node/bin:<span class="token environment constant">$PATH</span> <span class="token comment"># command-line-tools/tool/node/bin</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PUB_HOSTED_URL</span><span class="token operator">=</span>https://pub.flutter-io.cn<span class="token punctuation">;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">FLUTTER_STORAGE_BASE_URL</span><span class="token operator">=</span>https://storage.flutter-io.cn·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加flutter ohos的版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://gitee.com/openharmony-sig/flutter_flutter.git
<span class="token function">mv</span> flutter_flutter custom_3.7.12_ohos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>切换到flutter ohos</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fvm global custom_3.7.12_ohos
fvm flutter doctor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果出现了HarmonyOS toolchain相关的检查项 说明已经安装成功了</p><h2 id="flutter-使用" tabindex="-1"><a class="header-anchor" href="#flutter-使用" aria-hidden="true">#</a> flutter 使用</h2><p>后续的使用可以使用如下命令进行使用</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>fvm flutter <span class="token operator">&lt;</span>cammand<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,22);function m(v,h){const n=r("ExternalLinkIcon");return l(),i("div",null,[d,a("p",null,[s("目前有很多的fvm的版本，本文采用的是"),a("a",p,[s("官网"),o(n)])]),u])}const f=t(c,[["render",m],["__file","harmonyos-init.html.vue"]]);export{f as default};
